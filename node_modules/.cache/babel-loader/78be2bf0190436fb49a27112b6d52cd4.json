{"ast":null,"code":"import _classCallCheck from\"c:\\\\dev\\\\haud-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"c:\\\\dev\\\\haud-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"c:\\\\dev\\\\haud-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"c:\\\\dev\\\\haud-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{firestoreConnect,reduxFirebase}from'react-redux-firebase';import{compose}from'redux';import{deleteUser as _deleteUser,updateUser as _updateUser}from'../../store/actions/userActions';var EditDetails=/*#__PURE__*/function(_Component){_inherits(EditDetails,_Component);var _super=_createSuper(EditDetails);function EditDetails(){var _this;_classCallCheck(this,EditDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.deleteUser=function(e){e.preventDefault();_this.props.deleteUser(_this.props.match.params[0]);_this.props.history.push(\"/\");};_this.handleSubmit=function(e){e.preventDefault();var formData=new FormData(e.target);var formObj={};formData.forEach(function(value,key){formObj[key]=value;});console.log(formObj);_this.props.updateUser(_this.props.match.params[0],formObj);};return _this;}_createClass(EditDetails,[{key:\"render\",value:function render(){var user=this.props.user;if(user){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"\\u2190 Back to Dashboard\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Edit User:\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"First Name:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"first_name\",defaultValue:user.first_name})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Last Name:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"last_name\",defaultValue:user.last_name})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Address 1:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"address_1\",defaultValue:user.address_1})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Address 2:\"),/*#__PURE__*/React.createElement(\"input\",{name:\"address_2\",defaultValue:user.address_2})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Town:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"town\",defaultValue:user.town})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Region:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"region\",defaultValue:user.region})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Country:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"country\",defaultValue:user.country})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Post Code:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"post_code\",defaultValue:user.post_code})),/*#__PURE__*/React.createElement(\"div\",{className:\"row row-alt\"},/*#__PURE__*/React.createElement(\"label\",null,\"Contact Number:\"),/*#__PURE__*/React.createElement(\"input\",{required:true,name:\"contact_number\",defaultValue:user.contact_number})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-space-between align-items-center\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.deleteUser,className:\"delete caption\"},\"Delete User\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn caption\"},\"Update\"))));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Loading...\"));}}}]);return EditDetails;}(Component);var mapStateToProps=function mapStateToProps(state,ownProps){var id=ownProps.match.params[0];var users=state.firestore.data.users;var user=users?users[id]:null;return{user:user};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{deleteUser:function deleteUser(user){return dispatch(_deleteUser(user));},updateUser:function updateUser(user,data){return dispatch(_updateUser(user,data));}};};export default compose(connect(mapStateToProps,mapDispatchToProps),firestoreConnect([{collection:'users'}]))(EditDetails);","map":{"version":3,"sources":["c:/dev/haud-test/src/components/users/editUser.js"],"names":["React","Component","Link","connect","firestoreConnect","reduxFirebase","compose","deleteUser","updateUser","EditDetails","e","preventDefault","props","match","params","history","push","handleSubmit","formData","FormData","target","formObj","forEach","value","key","console","log","user","first_name","last_name","address_1","address_2","town","region","country","post_code","contact_number","mapStateToProps","state","ownProps","id","users","firestore","data","mapDispatchToProps","dispatch","collection"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect, reduxFirebase } from 'react-redux-firebase'\r\nimport { compose } from 'redux';\r\nimport { deleteUser, updateUser } from '../../store/actions/userActions'\r\n\r\nclass EditDetails extends Component {\r\n    deleteUser = (e) => {\r\n        e.preventDefault();\r\n        this.props.deleteUser(this.props.match.params[0]);\r\n        this.props.history.push(\"/\");\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        var formData = new FormData(e.target)\r\n        var formObj = {};\r\n        formData.forEach((value, key) => {formObj[key] = value});\r\n        console.log(formObj);\r\n        this.props.updateUser(this.props.match.params[0], formObj);\r\n    }\r\n\r\n    render(){\r\n        const { user } = this.props\r\n\r\n        if (user) {\r\n            return(\r\n                <div className=\"container\">\r\n                    <Link to='/'>← Back to Dashboard</Link>\r\n                    <h2>Edit User:</h2>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"row row-alt\">\r\n                            <label>First Name:</label>\r\n                            <input required name=\"first_name\" defaultValue={user.first_name} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Last Name:</label>\r\n                            <input required name=\"last_name\" defaultValue={user.last_name} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Address 1:</label>\r\n                            <input required name=\"address_1\" defaultValue={user.address_1} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Address 2:</label>\r\n                            <input name=\"address_2\" defaultValue={user.address_2} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Town:</label>\r\n                            <input required name=\"town\" defaultValue={user.town} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Region:</label>\r\n                            <input required name=\"region\" defaultValue={user.region} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Country:</label>\r\n                            <input required name=\"country\" defaultValue={user.country} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Post Code:</label>\r\n                            <input required name=\"post_code\" defaultValue={user.post_code} />\r\n                        </div>\r\n                        <div className=\"row row-alt\">\r\n                            <label>Contact Number:</label>\r\n                            <input required name=\"contact_number\" defaultValue={user.contact_number} />\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"d-flex justify-space-between align-items-center\">\r\n                            <button onClick={this.deleteUser} className=\"delete caption\">Delete User</button>\r\n                            <button type=\"submit\" className=\"btn caption\">Update</button>\r\n                        </div>\r\n                    </form>\r\n                    \r\n                </div>\r\n            )\r\n        } else {\r\n            return(\r\n                <div className=\"container\">\r\n                    <h1>Loading...</h1>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const id = ownProps.match.params[0];\r\n    const users = state.firestore.data.users;\r\n    const user = users ? users[id] : null;\r\n    return {\r\n        user: user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        deleteUser: (user) => dispatch(deleteUser(user)),\r\n        updateUser: (user, data) => dispatch(updateUser(user, data))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    firestoreConnect([\r\n        { collection: 'users' }\r\n    ])\r\n)(EditDetails)"]},"metadata":{},"sourceType":"module"}